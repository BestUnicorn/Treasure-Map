<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Treasure Map </title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
  <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
</head>

<body>

  <!-- top img -->
  <div id="index-banner" class="parallax-container">
    <div class="section no-pad-bot">
      <div class="container ">
        <br><br>
        <h1 class="header center  text-lighten-2 "> Treasure Map
          <div class="row center">
            <h3 class="header col s12 dark">Always find your way back, Mate <a href="index.html" id="homeBtn" class="btn-floating btn-small waves-effect waves-light teal dark"><i
                  class="material-icons center-align">logout</i></a></h3>
          </div>
      </div>
    </div>
    <div class="parallax"><img src="background6.jpg" alt="Unsplashed background img 1"></div>
  </div>

  <!-- middle img -->
  <div class="parallax-container valign-wrapper">
    <div class="section no-pad-bot">
      <div class="container">
        <div class="row center">
          <div class="container center-align">
            <div class="row">
              <div class="col s12 m4 l3">
                <h5 class="header center teal-text text-lighten-2">title</h5>
                <div class="mapouter center-align">
                  <div class="gmap_canvas">
                    <div width="600" height="500" id="map_div" src="https://maps.google.com/maps?q=university%20of%20san%20francisco&t=&z=13&ie=UTF8&iwloc=&output=embed"
                      frameborder="0" scrolling="no" marginheight="0" marginwidth="0">
                    </div>
                    <a href="https://www.crocothemes.net">deadline wordpress themes</a>
                  </div>
                  <style>
                    .mapouter {
                      text-align: right;
                      height: 500px;
                      width: 600px;
                    }
                    .gmap_canvas {
                      overflow: hidden;
                      background: none !important;
                      height: 500px;
                      width: 600px;
                    }
                    #map_div {
                      height: 500px !important;
                      width: 600px !important;
                    }
                  </style>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="parallax"><img src="background8.jpg" alt="Unsplashed background img 1"></div>
      </div>

  <!-- bottom img -->
  <div class="parallax-container valign-wrapper">
    <div class="section no-pad-bot">
      <div class="container">
        <div class="row center">
          <h5 class="header col s12 light"> Live your life by a Treasure Map not a Clock! </h5>
        </div>
      </div>
    </div>
    <div class="parallax"><img src="background6.jpg" alt="Unsplashed background img 2"></div>
  </div>

  <!-- footer -->
  <footer class="page-footer teal">
    <div class="footer-copyright">
      <div class="container center">
        Made by Pirate UNICORNS
      </div>
    </div>
  </footer>

  <!--  Scripts-->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/materialize.js"></script>
  <script src="js/init.js"></script>
  <script>

    function cartographer() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(initMap);
        // markerMaker();
        initMap();
      } else {
        map.innerHTML = "Geolocation is not supported by this browser.";
        showError();
      }
    }

    function initMap(position) {
      var latitude = position.coords.latitude
      var longitude = position.coords.longitude
      var loc = { lat: latitude, lng: longitude };
      var map = new google.maps.Map(
        document.getElementById('map_div'), { zoom: 16, center: loc });
      // var marker = new google.maps.Marker({ position: loc, map: map });
      var flag = {
        url: '/images/pirate.png',
        scaledSize: new google.maps.Size(40, 30),
      };
      var marker = new google.maps.Marker({
        position: loc,
        map: map,
        icon: flag
      });
      // markerMaker(loc, map);
      console.log(loc);
    }

    // function markerMaker(location, map) {
    //   var map = document.getElementById("map_div")
    // }

    // var key = require("./routes/keys.js")
    // var map = document.getElementById("map");

    // function showPosition(position) {
    //   console.log(map_url);
    //   console.log(position);
    //   console.log(position.coords.latitude);
    //   console.log(position.coords.longitude);
    //   console.log(position.coords.accuracy);
    // };

    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   var map_url = "https://maps.googleapis.com/maps/api/staticmap?center=" + loc + "&zoom=14&size=400x300&sensor=false&key=AIzaSyD-bgvW2BXyAVq7nLUtXreUW_lHx1VlIdc";
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER
    //   // REMOVE KEY LATER

    //   document.getElementById("map").innerHTML = '<img id="treasure-map" src=' + map_url + '>';
    //   console.log(map_url);
    //   console.log(position);
    //   console.log(position.coords.latitude);
    //   console.log(position.coords.longitude);
    //   console.log(position.coords.accuracy);
    //   // markerMaker(loc);
    // }

    // function showError(error) {
    //   switch (error.code) {
    //     case error.PERMISSION_DENIED:
    //       console.log("User denied the request for Geolocation.")
    //       break;
    //     case error.POSITION_UNAVAILABLE:
    //       console.log("Location information is unavailable.")
    //       break;
    //     case error.TIMEOUT:
    //       console.log("The request to get user location timed out.")
    //       break;
    //     case error.UNKNOWN_ERROR:
    //       console.log("An unknown error occurred.")
    //       break;
    //   }
    // }


  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD-bgvW2BXyAVq7nLUtXreUW_lHx1VlIdc&callback=cartographer">
  </script>

</body>

</html>